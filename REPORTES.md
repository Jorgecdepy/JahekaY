# ğŸ“Š Panel de Reportes - Sistema JahekaY

## ğŸ“‹ DescripciÃ³n

Panel completo de generaciÃ³n de reportes con mÃºltiples tipos de informes, filtros personalizables y exportaciÃ³n a PDF. Permite analizar todos los aspectos del sistema: ingresos, facturas, consumo, caja y mÃ¡s.

---

## ğŸ¯ Tipos de Reportes Disponibles

### 1. ğŸ’° Ingresos Mensuales
**DescripciÃ³n:** Reporte detallado de todos los ingresos del perÃ­odo seleccionado.

**Incluye:**
- Total de ingresos del perÃ­odo
- Cantidad de facturas pagadas
- Promedio por factura
- Listado detallado de cada pago con cliente y fecha

**Ideal para:**
- Analizar ingresos de un mes especÃ­fico
- Comparar perÃ­odos
- Revisar facturas cobradas

---

### 2. ğŸ“Š Ingresos Anuales
**DescripciÃ³n:** Resumen consolidado de ingresos por aÃ±o, desglosado por mes.

**Incluye:**
- Total anual de ingresos
- Promedio mensual
- Ingresos por cada mes del aÃ±o
- Cantidad de facturas por mes

**Ideal para:**
- AnÃ¡lisis anual de rendimiento
- Identificar meses con mayores ingresos
- PlanificaciÃ³n financiera

---

### 3. ğŸ“„ Facturas por Estado
**DescripciÃ³n:** AnÃ¡lisis completo de facturas segÃºn su estado actual.

**Incluye:**
- Facturas pagadas (cantidad y monto total)
- Facturas pendientes (cantidad y monto total)
- Facturas vencidas (cantidad y monto total)
- Detalle de facturas en cada estado

**Ideal para:**
- GestiÃ³n de cobros
- Identificar facturas pendientes
- AnÃ¡lisis de morosidad

---

### 4. âš ï¸ Clientes Morosos
**DescripciÃ³n:** Listado de clientes con facturas vencidas y deudas pendientes.

**Incluye:**
- Cantidad de clientes con deudas
- Total adeudado general
- Deuda por cliente con detalles
- InformaciÃ³n de contacto de cada cliente

**Ideal para:**
- GestiÃ³n de cobros
- Identificar clientes a contactar
- AnÃ¡lisis de cartera vencida

---

### 5. ğŸ’§ Consumo de Agua
**DescripciÃ³n:** AnÃ¡lisis estadÃ­stico del consumo de agua por clientes.

**Incluye:**
- Consumo total del perÃ­odo (mÂ³)
- Promedio de consumo
- Consumo mÃ¡ximo y mÃ­nimo
- Listado de consumos por cliente

**Ideal para:**
- Identificar consumos anÃ³malos
- AnÃ¡lisis de patrones de consumo
- DetecciÃ³n de fugas

---

### 6. ğŸ’µ Movimientos de Caja
**DescripciÃ³n:** Reporte completo de ingresos y gastos de caja diaria.

**Incluye:**
- Total de ingresos del perÃ­odo
- Total de gastos del perÃ­odo
- Balance (ingresos - gastos)
- Detalle de cada transacciÃ³n

**Ideal para:**
- AnÃ¡lisis de flujo de efectivo
- Control de gastos
- ReconciliaciÃ³n de caja

---

### 7. ğŸ“– Lecturas del PerÃ­odo
**DescripciÃ³n:** Registro completo de lecturas realizadas en el rango de fechas.

**Incluye:**
- Total de lecturas realizadas
- Detalle de cada lectura
- Consumo por cliente
- Fechas de lectura

**Ideal para:**
- Verificar lecturas realizadas
- AuditorÃ­a de consumos
- Control de operaciones

---

## ğŸš€ CÃ³mo Usar el Panel de Reportes

### Paso 1: Acceder al Panel

**OpciÃ³n A:** Desde el Sidebar
- Click en "Reportes" en el menÃº lateral

**OpciÃ³n B:** Desde el Dashboard
- Click en la tarjeta "Reportes" en Acciones RÃ¡pidas

### Paso 2: Seleccionar Tipo de Reporte

1. En la secciÃ³n "Selecciona el Tipo de Reporte"
2. Click en la tarjeta del reporte que deseas generar
3. La tarjeta seleccionada se destacarÃ¡ con color

### Paso 3: Configurar Filtros

1. **Fecha Desde:** Selecciona la fecha de inicio del perÃ­odo
2. **Fecha Hasta:** Selecciona la fecha final del perÃ­odo

**Nota:** Por defecto viene configurado:
- Desde: Primer dÃ­a del mes actual
- Hasta: DÃ­a actual

### Paso 4: Generar Reporte

1. Click en el botÃ³n "Generar Reporte"
2. Espera mientras se procesa (verÃ¡s un spinner)
3. El reporte se mostrarÃ¡ en pantalla

### Paso 5: Visualizar Resultados

Una vez generado, verÃ¡s:
- **TÃ­tulo del reporte:** Tipo de reporte seleccionado
- **PerÃ­odo:** Rango de fechas seleccionado
- **Resumen Visual:** EstadÃ­sticas principales en tarjetas
- **BotÃ³n "Descargar PDF":** Para exportar

### Paso 6: Exportar a PDF

1. Revisa los datos en la vista previa
2. Click en "Descargar PDF"
3. El archivo se descargarÃ¡ automÃ¡ticamente
4. El PDF incluirÃ¡:
   - Encabezado del sistema
   - TÃ­tulo y perÃ­odo
   - Resumen ejecutivo
   - Datos detallados
   - Fecha y hora de generaciÃ³n

---

## ğŸ“Š Vista Previa de EstadÃ­sticas

Cada tipo de reporte muestra estadÃ­sticas especÃ­ficas:

### Ingresos Mensuales
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total Ingresos    â”‚ â‚² 5,000,000 â”‚
â”‚ Facturas Pagadas  â”‚      42      â”‚
â”‚ Promedio          â”‚ â‚² 119,048    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ingresos Anuales
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total Anual       â”‚ â‚² 60,000,000 â”‚
â”‚ Promedio Mensual  â”‚ â‚² 5,000,000  â”‚
â”‚ Total Facturas    â”‚     500      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Facturas por Estado
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Pagadas      â”‚  320  â”‚ â‚² 45,000,000 â”‚
â”‚ Pendientes   â”‚   80  â”‚ â‚² 12,000,000 â”‚
â”‚ Vencidas     â”‚   25  â”‚ â‚² 3,500,000  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Clientes Morosos
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Clientes con Deuda â”‚   25    â”‚
â”‚ Total Adeudado     â”‚ â‚² 3,500,000 â”‚
â”‚ Facturas Vencidas  â”‚   45    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Consumo de Agua
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Consumo Total â”‚  1,250 mÂ³   â”‚
â”‚ Promedio      â”‚    15 mÂ³    â”‚
â”‚ MÃ¡ximo        â”‚    85 mÂ³    â”‚
â”‚ MÃ­nimo        â”‚     2 mÂ³    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Movimientos de Caja
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ingresos     â”‚ â‚² 5,000,000  â”‚
â”‚ Gastos       â”‚ â‚² 1,200,000  â”‚
â”‚ Balance      â”‚ â‚² 3,800,000  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ’¡ Casos de Uso Recomendados

### Fin de Mes
1. **Generar "Ingresos Mensuales"** para ver ingresos del mes
2. **Generar "Movimientos de Caja"** para revisar flujo de efectivo
3. **Generar "Facturas por Estado"** para revisar pendientes

### AnÃ¡lisis de Morosidad
1. **Generar "Clientes Morosos"** para identificar deudas
2. **Generar "Facturas por Estado"** para ver vencidas
3. Usar informaciÃ³n para gestiÃ³n de cobros

### AuditorÃ­a Mensual
1. **Generar "Lecturas del PerÃ­odo"** para verificar registros
2. **Generar "Consumo de Agua"** para detectar anomalÃ­as
3. **Generar "Ingresos Mensuales"** para verificar cobros

### PlanificaciÃ³n Anual
1. **Generar "Ingresos Anuales"** para ver tendencias
2. Identificar meses con mejores resultados
3. Planificar estrategias para meses bajos

---

## ğŸ¨ CaracterÃ­sticas de la Interfaz

### Selector de Reportes
- âœ… Cards visuales con iconos grandes
- âœ… DescripciÃ³n de cada tipo
- âœ… SelecciÃ³n clara con resaltado
- âœ… Responsive en todos los dispositivos

### Filtros
- âœ… Selectores de fecha intuitivos
- âœ… Valores predeterminados inteligentes
- âœ… ValidaciÃ³n automÃ¡tica

### Vista Previa
- âœ… EstadÃ­sticas en tarjetas coloridas
- âœ… Valores destacados segÃºn contexto
- âœ… Animaciones suaves al cargar
- âœ… DiseÃ±o profesional

### ExportaciÃ³n PDF
- âœ… Formato profesional con encabezado
- âœ… Resumen ejecutivo completo
- âœ… Datos detallados organizados
- âœ… Footer con fecha de generaciÃ³n
- âœ… PaginaciÃ³n automÃ¡tica

---

## ğŸ”§ PersonalizaciÃ³n de Reportes

### Modificar Rango de Fechas

Para reportes especÃ­ficos:

**Ãšltimos 7 dÃ­as:**
- Desde: Hace 7 dÃ­as
- Hasta: Hoy

**Mes anterior:**
- Desde: Primer dÃ­a del mes pasado
- Hasta: Ãšltimo dÃ­a del mes pasado

**Trimestre:**
- Desde: Hace 3 meses
- Hasta: Hoy

**Personalizado:**
- Selecciona cualquier rango segÃºn necesites

### Filtros por Tipo de Reporte

Algunos reportes tienen filtros automÃ¡ticos:

**Ingresos Mensuales:**
- Solo facturas pagadas
- Filtradas por fecha de pago

**Clientes Morosos:**
- Solo facturas vencidas
- Ordenadas por antigÃ¼edad

**Consumo de Agua:**
- Ordenado por mayor consumo
- Ideal para identificar anomalÃ­as

---

## ğŸ“ˆ InterpretaciÃ³n de Resultados

### Valores en Verde (Positivos)
- Ingresos altos
- Facturas pagadas
- Balance positivo

### Valores en Rojo (AtenciÃ³n)
- Gastos altos
- Facturas vencidas
- Clientes morosos
- Balance negativo

### Valores en Amarillo (Advertencia)
- Facturas pendientes
- Situaciones que requieren seguimiento

---

## ğŸ› SoluciÃ³n de Problemas

### No se generan datos

**Problema:** El reporte estÃ¡ vacÃ­o o muestra ceros.

**Soluciones:**
1. Verifica que el rango de fechas sea correcto
2. AsegÃºrate de que haya datos en ese perÃ­odo
3. Revisa que las facturas estÃ©n en el estado correcto

### Error al generar PDF

**Problema:** El PDF no se descarga.

**Soluciones:**
1. Verifica que los datos se hayan cargado correctamente
2. Revisa la consola del navegador (F12) por errores
3. Intenta con un rango de fechas mÃ¡s corto

### Datos inconsistentes

**Problema:** Los nÃºmeros no coinciden con lo esperado.

**Soluciones:**
1. Verifica el rango de fechas seleccionado
2. Revisa que las facturas tengan las fechas correctas
3. Confirma que los estados de facturas sean correctos

---

## ğŸ’¾ Almacenamiento de Reportes

### PDFs Descargados

Los PDFs se descargan con nombre:
```
reporte_[tipo]_[timestamp].pdf
```

Ejemplo:
```
reporte_ingresos_mensuales_1704067200000.pdf
```

**Recomendaciones:**
- Organiza por carpetas mensuales
- Renombra con formato: `YYYY-MM-TipoReporte.pdf`
- MantÃ©n respaldos en la nube

---

## âœ… Checklist de Uso Mensual

Para un control efectivo, genera estos reportes cada mes:

- [ ] **Ingresos Mensuales** (primeros dÃ­as del mes)
- [ ] **Movimientos de Caja** (para conciliar)
- [ ] **Facturas por Estado** (para gestiÃ³n de cobros)
- [ ] **Clientes Morosos** (si hay vencidas)
- [ ] **Consumo de Agua** (para anÃ¡lisis de patrones)
- [ ] **Lecturas del PerÃ­odo** (para auditorÃ­a)

---

## ğŸ¯ Mejores PrÃ¡cticas

1. **Genera reportes regularmente**
   - Al menos una vez al mes
   - Guarda los PDFs para histÃ³rico

2. **Usa rangos de fechas consistentes**
   - Del 1 al Ãºltimo dÃ­a del mes
   - Facilita la comparaciÃ³n

3. **Analiza tendencias**
   - Compara meses anteriores
   - Identifica patrones

4. **ActÃºa sobre los datos**
   - Usa "Clientes Morosos" para cobros
   - Usa "Consumo" para detectar problemas

5. **Archiva los reportes**
   - MantÃ©n histÃ³rico organizado
   - Ãštil para auditorÃ­as

---

## ğŸ“ Notas Adicionales

### Rendimiento

Los reportes pueden tardar segÃºn la cantidad de datos:
- **Pocos datos (< 100 registros):** 1-2 segundos
- **Datos medios (100-500):** 2-5 segundos
- **Muchos datos (> 500):** 5-10 segundos

Si el reporte tarda mucho:
- Reduce el rango de fechas
- Genera reportes por perÃ­odos mÃ¡s cortos

### PrecisiÃ³n de Datos

Los reportes se generan en tiempo real desde la base de datos:
- âœ… Siempre actualizados
- âœ… Reflejan el estado actual
- âœ… No hay cache

---

**Â¡Sistema de Reportes listo para usar! ğŸ“Šâœ¨**

Genera informes profesionales y toma decisiones basadas en datos.
